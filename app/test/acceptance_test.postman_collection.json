{
    "info": {
        "_postman_id": "8ee2ef5d-449a-4f72-b0a5-e07da7c5472c",
        "name": "acceptance_test",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Projects API",
            "item": [
                {
                    "name": "Get Access Token For Test Client",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "7c3c5a9b-d0f1-4daf-a7c8-2cbbf86f16a0",
                                "exec": [
                                    "pm.environment.set(\"access_token\", pm.response.json()[\"access_token\"]);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\"client_id\":\"xo509wTObnqcYKiOgLCJoLcHqSpFKCjL\",\"client_secret\":\"O9WUmL1WtKRJ35TByGcrcoau0tNE9m5Yd1SC4x4V9VzQoRX4c1XUBhO6BBPYmc5B\",\"audience\":\"http://www.grizzlybear-experiments.com\",\"grant_type\":\"client_credentials\"}"
                        },
                        "url": {
                            "raw": "https://grizzly-bear.eu.auth0.com/oauth/token",
                            "protocol": "https",
                            "host": ["grizzly-bear", "eu", "auth0", "com"],
                            "path": ["oauth", "token"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Access Token For Test Client 2",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "7c3c5a9b-d0f1-4daf-a7c8-2cbbf86f16a0",
                                "exec": [
                                    "pm.environment.set(\"access_token_2\", pm.response.json()[\"access_token\"]);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "type": "text",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\"client_id\":\"EYHbAnyR8eou9NmnjwEtRWSWM3ZcmMe3\",\"client_secret\":\"3CMEeO77nQQlzwe2VB0Zk9x82rjCkTxV_55_-ReXWyu7sKzqFUaRwxnNlqbFIFgd\",\"audience\":\"http://www.grizzlybear-experiments.com\",\"grant_type\":\"client_credentials\"}"
                        },
                        "url": {
                            "raw": "https://grizzly-bear.eu.auth0.com/oauth/token",
                            "protocol": "https",
                            "host": ["grizzly-bear", "eu", "auth0", "com"],
                            "path": ["oauth", "token"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Project",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test(\"Body has id\", function() {",
                                    "    pm.expect(pm.response.json()).to.have.property('_id');",
                                    "});",
                                    "",
                                    "pm.environment.set(\"sampleProjectId\", pm.response.json()[\"_id\"]);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"projectName\": \"testProject\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects",
                            "host": ["localhost"],
                            "path": ["projects"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Project with another user",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test(\"Body has id\", function() {",
                                    "    pm.expect(pm.response.json()).to.have.property('_id');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token_2}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"projectName\": \"testProject\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects",
                            "host": ["localhost"],
                            "path": ["projects"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Project without project name",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 400\", function () {",
                                    "    pm.response.to.have.status(400);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects",
                            "host": ["localhost"],
                            "path": ["projects"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Private API: Get all projects under given ownerId",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test(\"Gets correct project\", function() {",
                                    "    pm.expect(pm.response.json()[0]._id).to.eql(pm.environment.get(\"sampleProjectId\"));",
                                    "",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "protocolProfileBehavior": {
                        "disableBodyPruning": true
                    },
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "ownerid",
                                "type": "text",
                                "value": "xo509wTObnqcYKiOgLCJoLcHqSpFKCjL@clients",
                                "disabled": true
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost:8080/owners/xo509wTObnqcYKiOgLCJoLcHqSpFKCjL@clients/projects",
                            "host": ["localhost"],
                            "port": "8080",
                            "path": [
                                "owners",
                                "xo509wTObnqcYKiOgLCJoLcHqSpFKCjL@clients",
                                "projects"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Project with projectId",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test(\"Body has id\", function() {",
                                    "    pm.expect(pm.response.json()).to.have.property('_id');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"projectName\": \"testProject\",\n\t\"projectId\": \"5e865ed82a2aeb6436f498dc\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects",
                            "host": ["localhost"],
                            "path": ["projects"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Project with duplicate project id",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 409\", function () {",
                                    "    pm.response.to.have.status(409);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"projectName\": \"testProject\",\n\t\"projectId\": \"5e865ed82a2aeb6436f498dc\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects",
                            "host": ["localhost"],
                            "path": ["projects"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Project with invalid project id",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 400\", function () {",
                                    "    pm.response.to.have.status(400);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"projectName\": \"testProject\",\n\t\"projectId\": \"5e865ed82a2aeb6436f49\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects",
                            "host": ["localhost"],
                            "path": ["projects"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Another Project",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test(\"Body has id\", function() {",
                                    "    pm.expect(pm.response.json()).to.have.property('_id');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"projectName\": \"testProject\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects",
                            "host": ["localhost"],
                            "path": ["projects"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get All Projects",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test(\"Has two projects\", function () {",
                                    "    pm.expect(pm.response.json().length).to.equal(3)",
                                    "    pm.expect(pm.response.json()[0].ownerId).to.equal('xo509wTObnqcYKiOgLCJoLcHqSpFKCjL@clients')",
                                    "    pm.expect(pm.response.json()[1].ownerId).to.equal('xo509wTObnqcYKiOgLCJoLcHqSpFKCjL@clients')",
                                    "    pm.expect(pm.response.json()[2].ownerId).to.equal('xo509wTObnqcYKiOgLCJoLcHqSpFKCjL@clients')",
                                    "});",
                                    ""
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "protocolProfileBehavior": {
                        "disableBodyPruning": true
                    },
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects",
                            "host": ["localhost"],
                            "path": ["projects"]
                        }
                    },
                    "response": []
                }
            ],
            "protocolProfileBehavior": {}
        },
        {
            "name": "Experiments API",
            "item": [
                {
                    "name": "Create Project",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test(\"Body has id\", function() {",
                                    "    pm.expect(pm.response.json()).to.have.property('_id');",
                                    "});",
                                    "",
                                    "pm.environment.set(\"sampleProjectId\", pm.response.json()[\"_id\"]);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"projectName\": \"testProject\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects",
                            "host": ["localhost"],
                            "path": ["projects"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Experiment",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test(\"Body has id\", function() {",
                                    "    pm.expect(pm.response.json()).to.have.property('_id');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"_id\": {\n\t\t\"projectId\": \"{{sampleProjectId}}\",\n\t\t\"experimentName\": \"exp1\"\n\t},\n\t\"startTime\": 1685473303000,\n\t\"variations\": [{\n\t\t\t\"variationName\": \"variation1\",\n\t\t\t\"normalizedTrafficAmount\": 0.1,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}],\n\t\t\t\"controlGroup\": true\n\t\t}, {\n\t\t\t\"variationName\": \"variation2\",\n\t\t\t\"normalizedTrafficAmount\": 0.9,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}],\n\t\t\t\"controlGroup\": false\n\t}]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Another Experiment",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test(\"Body has id\", function() {",
                                    "    pm.expect(pm.response.json()).to.have.property('_id');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"_id\": {\n\t\t\"projectId\": \"{{sampleProjectId}}\",\n\t\t\"experimentName\": \"exp2\"\n\t},\n\t\"startTime\": 1685474304000,\n\t\"endTime\": 1685474305000,\n\t\"variations\": [{\n\t\t\t\"variationName\": \"variation1\",\n\t\t\t\"normalizedTrafficAmount\": 0.1,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}],\n\t\t\t\"controlGroup\": true\n\t\t}, {\n\t\t\t\"variationName\": \"variation2\",\n\t\t\t\"normalizedTrafficAmount\": 0.9,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}],\n\t\t\t\"controlGroup\": false\n\t}]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Duplicate Experiment",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 409\", function () {",
                                    "    pm.response.to.have.status(409);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"_id\": {\n\t\t\"projectId\": \"{{sampleProjectId}}\",\n\t\t\"experimentName\": \"exp1\"\n\t},\n\t\"startTime\": 1685473303000,\n\t\"variations\": [{\n\t\t\t\"variationName\": \"variation1\",\n\t\t\t\"normalizedTrafficAmount\": 0.1,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}],\n\t\t\t\"controlGroup\": true\n\t\t}, {\n\t\t\t\"variationName\": \"variation2\",\n\t\t\t\"normalizedTrafficAmount\": 0.9,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}],\n\t\t\t\"controlGroup\": false\n\t}]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Experiment Without Permissions",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 403\", function () {",
                                    "    pm.response.to.have.status(403);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token_2}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"_id\": {\n\t\t\"projectId\": \"{{sampleProjectId}}\",\n\t\t\"experimentName\": \"exp1\"\n\t},\n\t\"startTime\": 1685473303000,\n\t\"variations\": [{\n\t\t\t\"variationName\": \"variation1\",\n\t\t\t\"normalizedTrafficAmount\": 0.1,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}]\n\t\t}, {\n\t\t\t\"variationName\": \"variation2\",\n\t\t\t\"normalizedTrafficAmount\": 0.9,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}]\n\t}]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Invalid experiment",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 400\", function () {",
                                    "    pm.response.to.have.status(400);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n\t\"_id\": {\n\t\t\"projectId\": \"{{sampleProjectId}}\",\n\t\t\"experimentName\": \"invalid-exp\"\n\t},\n\t\"variations\": [{\n\t\t\t\"variationName\": \"variation1\",\n\t\t\t\"normalizedTrafficAmount\": 0.1,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}]\n\t\t}, {\n\t\t\t\"variationName\": \"variation2\",\n\t\t\t\"normalizedTrafficAmount\": 0.4,\n\t\t\t\"variables\": [{\n\t\t\t\t\"variableName\": \"var1\",\n\t\t\t\t\"variableType\": \"String\",\n\t\t\t\t\"variableValue\": \"test\"\n\t\t\t}]\n\t}]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get  experiment with given timerange",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test(\"Response has experiment\", function() {",
                                    "    pm.expect(pm.response.json().length).to.equal(1);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "protocolProfileBehavior": {
                        "disableBodyPruning": true
                    },
                    "request": {
                        "method": "GET",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost:8080/bulk/experiments/?startTime=1685473303000&endTime=1685473306000",
                            "host": ["localhost"],
                            "port": "8080",
                            "path": ["bulk", "experiments", ""],
                            "query": [
                                {
                                    "key": "startTime",
                                    "value": "1685473303000"
                                },
                                {
                                    "key": "endTime",
                                    "value": "1685473306000"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get User Variation",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test(\"Response has 3 elements\", function() {",
                                    "    pm.expect(pm.response.json().length).to.equal(3);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "[{\n\t\"projectId\": \"{{sampleProjectId}}\",\n\t\"experimentName\": \"exp1\",\n\t\"userId\": \"24c9e15e52afc47c225b757e7bee1f9d\"\n}, {\n\t\"projectId\": \"{{sampleProjectId}}\",\n\t\"experimentName\": \"exp2\",\n\t\"userId\": \"24c9e15e52afc47c225b757e7bee1f9d\"\n}, {\n\t\"projectId\": \"{{sampleProjectId}}\",\n\t\"experimentName\": \"exp2\",\n\t\"userId\": \"f0b3b7623d3bedf898459673d778319e\"\n}]",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost:8080/bulk/variations",
                            "host": ["localhost"],
                            "port": "8080",
                            "path": ["bulk", "variations"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get  experiments with given projectId",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test(\"Response has experiment\", function() {",
                                    "    pm.expect(pm.response.json().length).to.equal(2);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "protocolProfileBehavior": {
                        "disableBodyPruning": true
                    },
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get  experiment invalid permissions",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 403\", function () {",
                                    "    pm.response.to.have.status(403);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "protocolProfileBehavior": {
                        "disableBodyPruning": true
                    },
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{access_token_2}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get  experiment with given projectId and Name",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test(\"Body has _id\", function() {",
                                    "    pm.expect(pm.response.json()[0]).to.have.property('_id');",
                                    "});",
                                    ""
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "protocolProfileBehavior": {
                        "disableBodyPruning": true
                    },
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments/exp1",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments",
                                "exp1"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get  variation with given project, Name and user id",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                                "exec": [
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test(\"Body has variation name\", function() {",
                                    "    pm.expect(pm.response.json()).to.have.property('variationName');",
                                    "});",
                                    ""
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "protocolProfileBehavior": {
                        "disableBodyPruning": true
                    },
                    "request": {
                        "method": "GET",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments/exp1/variations?userId=test",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments",
                                "exp1",
                                "variations"
                            ],
                            "query": [
                                {
                                    "key": "userId",
                                    "value": "test"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Stop  experiment with invalid credentials",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "6e9007d2-5406-4313-a4e8-5d26a29e3b3a",
                                "exec": [
                                    "pm.test(\"Status code is 403\", function () {",
                                    "    pm.response.to.have.status(403);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token_2}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments/exp1/stop",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments",
                                "exp1",
                                "stop"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Stop  experiment that does not exist",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "893daf8e-1eec-4ab5-97f1-7428acd75864",
                                "exec": [
                                    "pm.test(\"Status code is 404\", function () {",
                                    "    pm.response.to.have.status(404);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments/invalid_exp1/stop",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments",
                                "invalid_exp1",
                                "stop"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Stop  experiment with given projectId and Name",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "43c2bd5c-eef4-4f7a-808b-8e44348da2e3",
                                "exec": [
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments/exp1/stop",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments",
                                "exp1",
                                "stop"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Stop  experiment that is already stopped",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "7bef229f-e87e-4b6e-86c5-4df47e5dbbd5",
                                "exec": [
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(409);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "type": "text",
                                "value": "Bearer {{access_token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "localhost/projects/{{sampleProjectId}}/experiments/exp1/stop",
                            "host": ["localhost"],
                            "path": [
                                "projects",
                                "{{sampleProjectId}}",
                                "experiments",
                                "exp1",
                                "stop"
                            ]
                        }
                    },
                    "response": []
                }
            ],
            "protocolProfileBehavior": {}
        },
        {
            "name": "Test Status",
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "id": "a7b22320-ab53-4493-b868-a356fc851b36",
                        "exec": [
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});"
                        ],
                        "type": "text/javascript"
                    }
                }
            ],
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "localhost",
                    "host": ["localhost"]
                }
            },
            "response": []
        }
    ],
    "protocolProfileBehavior": {}
}
